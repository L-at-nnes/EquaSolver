<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="EquaSolver - A modern equation solver with support for linear, quadratic, cubic, quartic, quintic equations, matrix operations, and graphing.">
    <meta name="theme-color" content="#00ff41">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="EquaSolver">
    <title>EquaSolver - Advanced Calculator</title>
    <link rel="icon" type="image/svg+xml" href="assets/icon.svg">
    <link rel="apple-touch-icon" href="assets/icon-192.svg">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet"></noscript>
</head>
<body class="theme-matrix">
    <!-- Particles Background -->
    <div id="particles-js"></div>
    
    <!-- Settings Button -->
    <button class="settings-btn" id="settingsBtn" title="Settings">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"></path>
        </svg>
    </button>

    <!-- Settings Panel -->
    <div class="settings-panel" id="settingsPanel">
        <div class="settings-content">
            <h2 data-translate="settings">Settings</h2>
            
            <div class="setting-group">
                <label data-translate="mode">Mode</label>
                <div class="mode-toggle">
                    <button class="mode-btn active" data-mode="dark">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                        <span data-translate="darkMode">Dark</span>
                    </button>
                    <button class="mode-btn" data-mode="light">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                        <span data-translate="lightMode">Light</span>
                    </button>
                </div>
            </div>

            <div class="setting-group">
                <label data-translate="theme">Theme</label>
                <div class="theme-selector">
                    <button class="theme-btn" data-theme="cyberpunk" title="Cyberpunk">
                        <div class="theme-preview cyberpunk-preview"></div>
                    </button>
                    <button class="theme-btn" data-theme="neon" title="Neon">
                        <div class="theme-preview neon-preview"></div>
                    </button>
                    <button class="theme-btn active" data-theme="matrix" title="Matrix">
                        <div class="theme-preview matrix-preview"></div>
                    </button>
                    <button class="theme-btn" data-theme="sunset" title="Sunset">
                        <div class="theme-preview sunset-preview"></div>
                    </button>
                    <button class="theme-btn" data-theme="ocean" title="Ocean">
                        <div class="theme-preview ocean-preview"></div>
                    </button>
                    <button class="theme-btn" data-theme="galaxy" title="Galaxy">
                        <div class="theme-preview galaxy-preview"></div>
                    </button>
                    <button class="theme-btn" data-theme="custom" title="Custom">
                        <div class="theme-preview custom-preview"></div>
                    </button>
                </div>
            </div>

            <div class="setting-group custom-theme-builder" id="customThemeBuilder" style="display:none;">
                <label data-translate="customTheme">Custom Theme Builder</label>
                <div class="color-picker-group">
                    <div class="color-picker-item">
                        <label data-translate="primaryColor">Primary Color</label>
                        <input type="color" id="customPrimary" value="#ff0080" class="color-picker">
                    </div>
                    <div class="color-picker-item">
                        <label data-translate="secondaryColor">Secondary Color</label>
                        <input type="color" id="customSecondary" value="#00ffff" class="color-picker">
                    </div>
                    <div class="color-picker-item">
                        <label data-translate="accentColor">Accent Color</label>
                        <input type="color" id="customAccent" value="#ffff00" class="color-picker">
                    </div>
                    <div class="color-picker-item">
                        <label data-translate="bgPrimary">Background Primary</label>
                        <input type="color" id="customBgPrimary" value="#0a0a0f" class="color-picker">
                    </div>
                    <div class="color-picker-item">
                        <label data-translate="bgSecondary">Background Secondary</label>
                        <input type="color" id="customBgSecondary" value="#1a1a2e" class="color-picker">
                    </div>
                </div>
                <button class="btn-apply-theme" id="applyCustomTheme" data-translate="applyTheme">Apply Theme</button>
                <button class="btn-save-theme" id="saveCustomTheme" data-translate="saveTheme">Save Theme</button>
            </div>

            <div class="setting-group">
                <label data-translate="language">Language</label>
                <div class="language-selector">
                    <button class="lang-btn" data-lang="fr">
                        <img class="flag-img" data-lang-flag="fr" alt="FR">
                        <span>Français</span>
                    </button>
                    <button class="lang-btn active" data-lang="en">
                        <img class="flag-img" data-lang-flag="en" alt="EN">
                        <span>English</span>
                    </button>
                    <button class="lang-btn" data-lang="es">
                        <img class="flag-img" data-lang-flag="es" alt="ES">
                        <span>Español</span>
                    </button>
                    <button class="lang-btn" data-lang="de">
                        <img class="flag-img" data-lang-flag="de" alt="DE">
                        <span>Deutsch</span>
                    </button>
                    <button class="lang-btn" data-lang="it">
                        <img class="flag-img" data-lang-flag="it" alt="IT">
                        <span>Italiano</span>
                    </button>
                    <button class="lang-btn" data-lang="ru">
                        <img class="flag-img" data-lang-flag="ru" alt="RU">
                        <span>Русский</span>
                    </button>
                </div>
            </div>

            <button class="close-settings" id="closeSettings" data-translate="close">Close</button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Home Screen -->
        <div id="homeScreen" class="home-screen active">
            <header class="home-header">
                <h1 class="logo">
                    <span class="logo-icon">∑</span>
                    EquaSolver
                </h1>
                <p class="subtitle" data-translate="subtitle">Advanced Equation Calculator</p>
                <p class="welcome-text" data-translate="welcome">Choose your tool to get started</p>
            </header>

            <div class="tools-grid">
                <div class="tool-card" data-tool="standard">
                    <div class="tool-icon">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="4" y="4" width="16" height="16" rx="2"></rect>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                            <line x1="12" y1="8" x2="12" y2="16"></line>
                        </svg>
                    </div>
                    <h3 data-translate="standard">Standard</h3>
                    <p data-translate="standardDesc">Basic calculator operations</p>
                    <div class="tool-glow"></div>
                </div>

                <div class="tool-card" data-tool="multi-degree">
                    <div class="tool-icon">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 20h4l3-16h4"></path>
                            <path d="M19 4c0 2.761-2.239 5-5 5-2.76 0-5-2.239-5-5"></path>
                            <path d="M19 15c0 2.761-2.239 5-5 5-2.76 0-5-2.239-5-5"></path>
                        </svg>
                    </div>
                    <h3 data-translate="multiDegreeTitle">Multi-degree Equations</h3>
                    <p data-translate="multiDegreeDesc">Solve linear up to cubic cases</p>
                    <div class="tool-submenu">
                        <p class="submenu-title" data-translate="multiDegreeHint">Choose a degree</p>
                        <button class="submenu-btn" data-subtool="linear" data-translate="degreeOne">1st degree</button>
                        <button class="submenu-btn" data-subtool="quadratic" data-translate="degreeTwo">2nd degree</button>
                        <button class="submenu-btn" data-subtool="cubic" data-translate="degreeThree">3rd degree</button>
                        <button class="submenu-btn" data-subtool="quartic" data-translate="degreeFour">4th degree</button>
                        <button class="submenu-btn" data-subtool="quintic" data-translate="degreeFive">5th degree</button>
                    </div>
                    <div class="tool-glow"></div>
                </div>

                <!-- Inequalities -->
                <div class="tool-card" data-tool="inequalities">
                    <div class="tool-icon">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M6 9l6-4 6 4"></path>
                            <path d="M6 15l6 4 6-4"></path>
                            <line x1="4" y1="12" x2="20" y2="12"></line>
                        </svg>
                    </div>
                    <h3 data-translate="inequalities">Inequalities</h3>
                    <p data-translate="inequalitiesDesc">Solve linear and quadratic</p>
                    <div class="tool-submenu">
                        <p class="submenu-title" data-translate="chooseType">Choose type</p>
                        <button class="submenu-btn" data-subtool="inequalityLinear" data-translate="linearInequality">Linear</button>
                        <button class="submenu-btn" data-subtool="inequalityQuadratic" data-translate="quadraticInequality">Quadratic</button>
                    </div>
                    <div class="tool-glow"></div>
                </div>

                <div class="tool-card" data-tool="systems">
                    <div class="tool-icon">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="4" y1="8" x2="20" y2="8"></line>
                            <line x1="4" y1="16" x2="20" y2="16"></line>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </div>
                    <h3 data-translate="systems">Systems</h3>
                    <p data-translate="systemsDesc">Solve systems of equations</p>
                    <div class="tool-submenu">
                        <p class="submenu-title" data-translate="chooseSystemSize">Choose system size</p>
                        <button class="submenu-btn" data-subtool="systems" data-translate="system2x2">2x2 System</button>
                        <button class="submenu-btn" data-subtool="system3x3" data-translate="system3x3">3x3 System</button>
                    </div>
                    <div class="tool-glow"></div>
                </div>

                <div class="tool-card" data-tool="matrix">
                    <div class="tool-icon">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="7" rx="1"></rect>
                            <rect x="14" y="3" width="7" height="7" rx="1"></rect>
                            <rect x="3" y="14" width="7" height="7" rx="1"></rect>
                            <rect x="14" y="14" width="7" height="7" rx="1"></rect>
                        </svg>
                    </div>
                    <h3 data-translate="matrix">Matrices</h3>
                    <p data-translate="matrixDesc">Operations on matrices</p>
                    <div class="tool-glow"></div>
                </div>

                <div class="tool-card" data-tool="graph">
                    <div class="tool-icon">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 17 9 11 13 15 21 7"></polyline>
                            <polyline points="14 7 21 7 21 14"></polyline>
                        </svg>
                    </div>
                    <h3 data-translate="graph">Graph</h3>
                    <p data-translate="graphDesc">Visualize equations</p>
                    <div class="tool-glow"></div>
                </div>

                <div class="tool-card" data-tool="history">
                    <div class="tool-icon">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                    </div>
                    <h3 data-translate="historyTitle">History</h3>
                    <p data-translate="historyDesc">View calculation history</p>
                    <div class="tool-glow"></div>
                </div>

                <!-- Number Tools Category -->
                <div class="tool-card" data-tool="number-tools">
                    <div class="tool-icon">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <text x="4" y="16" font-size="12" fill="currentColor">#</text>
                            <circle cx="17" cy="7" r="3"></circle>
                            <line x1="14" y1="14" x2="20" y2="20"></line>
                        </svg>
                    </div>
                    <h3 data-translate="numberTools">Number Tools</h3>
                    <p data-translate="numberToolsDesc">GCD, LCM, fractions and more</p>
                    <div class="tool-submenu">
                        <p class="submenu-title" data-translate="numberTools">Number Tools</p>
                        <button class="submenu-btn" data-subtool="gcdlcm" data-translate="gcdlcm">GCD/LCM</button>
                        <button class="submenu-btn" data-subtool="modular" data-translate="modular">Modular</button>
                        <button class="submenu-btn" data-subtool="combinatorics" data-translate="combinatorics">Combinatorics</button>
                        <button class="submenu-btn" data-subtool="fractions" data-translate="fractions">Fractions</button>
                        <button class="submenu-btn" data-subtool="percentage" data-translate="percentage">Percentage</button>
                        <button class="submenu-btn" data-subtool="ratio" data-translate="ratio">Ratio</button>
                    </div>
                    <div class="tool-glow"></div>
                </div>

                <!-- Statistics Category -->
                <div class="tool-card" data-tool="statistics-tools">
                    <div class="tool-icon">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="4" y="14" width="4" height="6"></rect>
                            <rect x="10" y="8" width="4" height="12"></rect>
                            <rect x="16" y="4" width="4" height="16"></rect>
                        </svg>
                    </div>
                    <h3 data-translate="statistics">Statistics</h3>
                    <p data-translate="statisticsDesc">Statistical analysis tools</p>
                    <div class="tool-submenu">
                        <p class="submenu-title" data-translate="statistics">Statistics</p>
                        <button class="submenu-btn" data-subtool="statisticsCalc" data-translate="statisticsCalc">Statistics</button>
                        <button class="submenu-btn" data-subtool="sequences" data-translate="sequences">Sequences</button>
                    </div>
                    <div class="tool-glow"></div>
                </div>

                <!-- Converters Category -->
                <div class="tool-card" data-tool="converters">
                    <div class="tool-icon">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="17 1 21 5 17 9"></polyline>
                            <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
                            <polyline points="7 23 3 19 7 15"></polyline>
                            <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
                        </svg>
                    </div>
                    <h3 data-translate="converters">Converters</h3>
                    <p data-translate="convertersDesc">Unit and base conversions</p>
                    <div class="tool-submenu">
                        <p class="submenu-title" data-translate="converters">Converters</p>
                        <button class="submenu-btn" data-subtool="baseConverter" data-translate="baseConverter">Base Converter</button>
                        <button class="submenu-btn" data-subtool="unitConverter" data-translate="unitConverter">Unit Converter</button>
                    </div>
                    <div class="tool-glow"></div>
                </div>

                <!-- Calculus Category -->
                <div class="tool-card" data-tool="calculus-tools">
                    <div class="tool-icon">
                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <text x="6" y="18" font-size="16" fill="currentColor">∫</text>
                            <path d="M14 4c4 0 6 4 6 8s-2 8-6 8"></path>
                        </svg>
                    </div>
                    <h3 data-translate="calculus">Calculus</h3>
                    <p data-translate="calculusDesc">Limits, series and integration</p>
                    <div class="tool-submenu">
                        <p class="submenu-title" data-translate="calculus">Calculus</p>
                        <button class="submenu-btn" data-subtool="limits" data-translate="limits">Limits</button>
                        <button class="submenu-btn" data-subtool="taylor" data-translate="taylor">Taylor Series</button>
                        <button class="submenu-btn" data-subtool="integration" data-translate="integration">Integration</button>
                        <button class="submenu-btn" data-subtool="polynomialDivision" data-translate="polynomialDivision">Polynomial Division</button>
                    </div>
                    <div class="tool-glow"></div>
                </div>
            </div>
        </div>

        <!-- Calculator Screen -->
        <div id="calculatorScreen" class="calculator-screen">
            <button class="back-btn" id="backBtn">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="19" y1="12" x2="5" y2="12"></line>
                    <polyline points="12 19 5 12 12 5"></polyline>
                </svg>
                <span data-translate="back">Back</span>
            </button>

            <header>
                <h1 class="logo">
                    <span class="logo-icon">∑</span>
                    EquaSolver
                </h1>
                <p class="subtitle" data-translate="subtitle">Advanced Equation Calculator</p>
            </header>

        <div class="calculator-wrapper">
            <!-- Calculator Tabs -->
            <div class="tabs">
                <button class="tab active" data-tab="standard" data-translate="standard">Standard</button>
                <button class="tab" data-tab="linear" data-translate="linear">Linear</button>
                <button class="tab" data-tab="quadratic" data-translate="quadratic">Quadratic</button>
                <button class="tab" data-tab="cubic" data-translate="cubic">Cubic</button>
                <button class="tab" data-tab="quartic" data-translate="quartic">Quartic</button>
                <button class="tab" data-tab="quintic" data-translate="quintic">Quintic</button>
                <button class="tab" data-tab="systems" data-translate="systems">Systems</button>
                <button class="tab" data-tab="matrix" data-translate="matrix">Matrix</button>
                <button class="tab" data-tab="graph" data-translate="graph">Graph</button>
                <button class="tab" data-tab="parametric" data-translate="parametric">Parametric</button>
                <button class="tab" data-tab="polar" data-translate="polar">Polar</button>
                <button class="tab" data-tab="latex" data-translate="latex">LaTeX</button>
                <button class="tab" data-tab="gcdlcm" data-translate="gcdlcm">GCD/LCM</button>
                <button class="tab" data-tab="modular" data-translate="modular">Modular</button>
                <button class="tab" data-tab="combinatorics" data-translate="combinatorics">Combinatorics</button>
                <button class="tab" data-tab="fractions" data-translate="fractions">Fractions</button>
                <button class="tab" data-tab="percentage" data-translate="percentage">Percentage</button>
                <button class="tab" data-tab="ratio" data-translate="ratio">Ratio</button>
                <button class="tab" data-tab="baseConverter" data-translate="baseConverter">Base Converter</button>
                <button class="tab" data-tab="unitConverter" data-translate="unitConverter">Unit Converter</button>
                <button class="tab" data-tab="statisticsCalc" data-translate="statisticsCalc">Statistics</button>
                <button class="tab" data-tab="sequences" data-translate="sequences">Sequences</button>
                <button class="tab" data-tab="limits" data-translate="limits">Limits</button>
                <button class="tab" data-tab="taylor" data-translate="taylor">Taylor Series</button>
                <button class="tab" data-tab="integration" data-translate="integration">Integration</button>
                <button class="tab" data-tab="polynomialDivision" data-translate="polynomialDivision">Polynomial Division</button>
            </div>

            <!-- Standard Calculator -->
            <div class="calculator-panel active" id="standard">
                <div class="display-container">
                    <div class="display-history" id="history"></div>
                    <input type="text" class="display" id="display" readonly placeholder="0">
                </div>
                
                <div class="buttons-grid">
                    <button class="btn function" data-action="clear">C</button>
                    <button class="btn function" data-action="delete">⌫</button>
                    <button class="btn function" data-action="percent">%</button>
                    <button class="btn operator" data-value="/">÷</button>
                    
                    <button class="btn number" data-value="7">7</button>
                    <button class="btn number" data-value="8">8</button>
                    <button class="btn number" data-value="9">9</button>
                    <button class="btn operator" data-value="*">×</button>
                    
                    <button class="btn number" data-value="4">4</button>
                    <button class="btn number" data-value="5">5</button>
                    <button class="btn number" data-value="6">6</button>
                    <button class="btn operator" data-value="-">−</button>
                    
                    <button class="btn number" data-value="1">1</button>
                    <button class="btn number" data-value="2">2</button>
                    <button class="btn number" data-value="3">3</button>
                    <button class="btn operator" data-value="+">+</button>
                    
                    <button class="btn number" data-value="0">0</button>
                    <button class="btn number" data-value=".">.</button>
                    <button class="btn function" data-action="power">x²</button>
                    <button class="btn equals" data-action="equals">=</button>
                </div>
                
                <!-- Scientific Functions -->
                <div class="scientific-functions">
                    <button class="btn scientific" data-action="sin">sin</button>
                    <button class="btn scientific" data-action="cos">cos</button>
                    <button class="btn scientific" data-action="tan">tan</button>
                    <button class="btn scientific" data-action="sqrt">√</button>
                    <button class="btn scientific" data-action="ln">ln</button>
                    <button class="btn scientific" data-action="log">log</button>
                    <button class="btn scientific" data-action="exp">e^x</button>
                    <button class="btn scientific" data-action="factorial">n!</button>
                    <button class="btn scientific" data-action="pi">π</button>
                    <button class="btn scientific" data-action="e">e</button>
                </div>
            </div>

            <!-- Linear Equation Solver -->
            <div class="calculator-panel" id="linear">
                <div class="equation-display">
                    <h3 data-translate="linearTitle">Linear Equation</h3>
                    <div class="equation-preview" id="linearPreview">0x + 0 = 0</div>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label>a (coefficient of x):</label>
                        <input type="text" inputmode="decimal" id="linearA" value="0" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>b (constant):</label>
                        <input type="text" inputmode="decimal" id="linearB" value="0" class="coef-input">
                    </div>
                    <p class="input-hint" data-translate="linearHint">Enter coefficients manually</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="solveLinear" data-translate="solve">Solve</button>
                    <button class="btn-export" id="exportLinearPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="linearSolution"></div>
            </div>

            <!-- Quadratic Equation Solver -->
            <div class="calculator-panel" id="quadratic">
                <div class="equation-display">
                    <h3 data-translate="quadraticTitle">Quadratic Equation</h3>
                    <div class="equation-preview" id="quadraticPreview">1x² + 0x + 0 = 0</div>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label>a (coefficient of x²):</label>
                        <input type="text" inputmode="decimal" id="quadA" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>b (coefficient of x):</label>
                        <input type="text" inputmode="decimal" id="quadB" value="0" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>c (constant):</label>
                        <input type="text" inputmode="decimal" id="quadC" value="0" class="coef-input">
                    </div>
                    <p class="input-hint" data-translate="quadraticHint">Enter coefficients manually</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="solveQuadratic" data-translate="solve">Solve</button>
                    <button class="btn-export" id="exportQuadraticPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="quadraticSolution"></div>
            </div>

            <!-- Cubic Equation Solver -->
            <div class="calculator-panel" id="cubic">
                <div class="equation-display">
                    <h3 data-translate="cubicTitle">Cubic Equation</h3>
                    <div class="equation-preview" id="cubicPreview">1x³ + 0x² + 0x + 0 = 0</div>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label>a (coefficient of x³):</label>
                        <input type="text" inputmode="decimal" id="cubicA" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>b (coefficient of x²):</label>
                        <input type="text" inputmode="decimal" id="cubicB" value="0" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>c (coefficient of x):</label>
                        <input type="text" inputmode="decimal" id="cubicC" value="0" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>d (constant):</label>
                        <input type="text" inputmode="decimal" id="cubicD" value="0" class="coef-input">
                    </div>
                    <p class="input-hint" data-translate="cubicHint">Enter coefficients manually</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="solveCubic" data-translate="solve">Solve</button>
                    <button class="btn-export" id="exportCubicPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="cubicSolution"></div>
            </div>

            <!-- Quartic Equation Solver -->
            <div class="calculator-panel" id="quartic">
                <div class="equation-display">
                    <h3 data-translate="quarticTitle">Quartic Equation</h3>
                    <div class="equation-preview" id="quarticPreview">1x⁴ + 0x³ + 0x² + 0x + 0 = 0</div>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label>a (coefficient of x⁴):</label>
                        <input type="text" inputmode="decimal" id="quartA" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>b (coefficient of x³):</label>
                        <input type="text" inputmode="decimal" id="quartB" value="0" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>c (coefficient of x²):</label>
                        <input type="text" inputmode="decimal" id="quartC" value="0" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>d (coefficient of x):</label>
                        <input type="text" inputmode="decimal" id="quartD" value="0" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>e (constant):</label>
                        <input type="text" inputmode="decimal" id="quartE" value="0" class="coef-input">
                    </div>
                    <p class="input-hint" data-translate="quarticHint">Enter coefficients manually</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="solveQuartic" data-translate="solve">Solve</button>
                    <button class="btn-export" id="exportQuarticPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="quarticSolution"></div>
            </div>

            <!-- Quintic Equation Solver -->
            <div class="calculator-panel" id="quintic">
                <div class="equation-display">
                    <h3 data-translate="quinticTitle">Quintic Equation</h3>
                    <div class="equation-preview" id="quinticPreview">1x⁵ + 0x⁴ + 0x³ + 0x² + 0x + 0 = 0</div>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label>a (coefficient of x⁵):</label>
                        <input type="text" inputmode="decimal" id="quintA" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>b (coefficient of x⁴):</label>
                        <input type="text" inputmode="decimal" id="quintB" value="0" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>c (coefficient of x³):</label>
                        <input type="text" inputmode="decimal" id="quintC" value="0" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>d (coefficient of x²):</label>
                        <input type="text" inputmode="decimal" id="quintD" value="0" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>e (coefficient of x):</label>
                        <input type="text" inputmode="decimal" id="quintE" value="0" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>f (constant):</label>
                        <input type="text" inputmode="decimal" id="quintF" value="0" class="coef-input">
                    </div>
                    <p class="input-hint" data-translate="quinticHint">Enter coefficients manually</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="solveQuintic" data-translate="solve">Solve</button>
                    <button class="btn-export" id="exportQuinticPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="quinticSolution"></div>
            </div>

            <!-- Linear Inequality Solver -->
            <div class="calculator-panel" id="inequalityLinear">
                <div class="equation-display">
                    <h3 data-translate="linearInequalityTitle">Linear Inequality</h3>
                    <div class="equation-preview" id="ineqLinearPreview">0x + 0 < 0</div>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label>a (coefficient of x):</label>
                        <input type="text" inputmode="decimal" id="ineqLinearA" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>b (constant):</label>
                        <input type="text" inputmode="decimal" id="ineqLinearB" value="-2" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label data-translate="inequality">Inequality:</label>
                        <select id="ineqLinearOp" class="coef-input inequality-select">
                            <option value="<">&lt; (less than)</option>
                            <option value=">">&gt; (greater than)</option>
                            <option value="<=">&le; (less or equal)</option>
                            <option value=">=">&ge; (greater or equal)</option>
                        </select>
                    </div>
                    <p class="input-hint" data-translate="inequalityHint">Choose the inequality type and coefficients</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="solveInequalityLinear" data-translate="solve">Solve</button>
                    <button class="btn-export" id="exportInequalityLinearPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="inequalityLinearSolution"></div>
            </div>

            <!-- Quadratic Inequality Solver -->
            <div class="calculator-panel" id="inequalityQuadratic">
                <div class="equation-display">
                    <h3 data-translate="quadraticInequalityTitle">Quadratic Inequality</h3>
                    <div class="equation-preview" id="ineqQuadPreview">1x² + 0x + 0 < 0</div>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label>a (coefficient of x²):</label>
                        <input type="text" inputmode="decimal" id="ineqQuadA" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>b (coefficient of x):</label>
                        <input type="text" inputmode="decimal" id="ineqQuadB" value="-3" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>c (constant):</label>
                        <input type="text" inputmode="decimal" id="ineqQuadC" value="2" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label data-translate="inequality">Inequality:</label>
                        <select id="ineqQuadOp" class="coef-input inequality-select">
                            <option value="<">&lt; (less than)</option>
                            <option value=">">&gt; (greater than)</option>
                            <option value="<=">&le; (less or equal)</option>
                            <option value=">=">&ge; (greater or equal)</option>
                        </select>
                    </div>
                    <p class="input-hint" data-translate="inequalityHint">Choose the inequality type and coefficients</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="solveInequalityQuadratic" data-translate="solve">Solve</button>
                    <button class="btn-export" id="exportInequalityQuadraticPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="inequalityQuadraticSolution"></div>
            </div>

            <!-- System of Equations Solver -->
            <div class="calculator-panel" id="systems">
                <div class="equation-display">
                    <h3 data-translate="systemsTitle">System of 2 Equations</h3>
                    <div class="equation-preview-small" id="systemsPreview">
                        <div>1x + 1y = 0</div>
                        <div>1x - 1y = 0</div>
                    </div>
                </div>
                
                <div class="equation-builder">
                    <h4 class="equation-section-title">Equation 1: ax + by = e</h4>
                    <div class="input-group">
                        <label>a:</label>
                        <input type="text" inputmode="decimal" id="sysA" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>b:</label>
                        <input type="text" inputmode="decimal" id="sysB" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>e:</label>
                        <input type="text" inputmode="decimal" id="sysE" value="0" class="coef-input">
                    </div>
                    
                    <h4 class="equation-section-title">Equation 2: cx + dy = f</h4>
                    <div class="input-group">
                        <label>c:</label>
                        <input type="text" inputmode="decimal" id="sysC" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>d:</label>
                        <input type="text" inputmode="decimal" id="sysD" value="-1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>f:</label>
                        <input type="text" inputmode="decimal" id="sysF" value="0" class="coef-input">
                    </div>
                    <p class="input-hint" data-translate="systemsHint">Enter coefficients manually</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="solveSystems" data-translate="solve">Solve</button>
                    <button class="btn-export" id="exportSystemsPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="systemsSolution"></div>
            </div>

            <!-- System of 3 Equations (3x3) Solver -->
            <div class="calculator-panel" id="system3x3">
                <div class="equation-display">
                    <h3 data-translate="system3x3Title">System of 3 Equations (3x3)</h3>
                    <div class="equation-preview-small" id="system3x3Preview">
                        <div>1x + 1y + 0z = 6</div>
                        <div>2x + 1y + 1z = 11</div>
                        <div>1x + 2y + 1z = 11</div>
                    </div>
                </div>
                
                <div class="equation-builder">
                    <h4 class="equation-section-title">Equation 1: a₁x + b₁y + c₁z = d₁</h4>
                    <div class="input-group">
                        <label>a₁:</label>
                        <input type="text" inputmode="decimal" id="sys3A1" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>b₁:</label>
                        <input type="text" inputmode="decimal" id="sys3B1" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>c₁:</label>
                        <input type="text" inputmode="decimal" id="sys3C1" value="0" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>d₁:</label>
                        <input type="text" inputmode="decimal" id="sys3D1" value="6" class="coef-input">
                    </div>
                    
                    <h4 class="equation-section-title">Equation 2: a₂x + b₂y + c₂z = d₂</h4>
                    <div class="input-group">
                        <label>a₂:</label>
                        <input type="text" inputmode="decimal" id="sys3A2" value="2" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>b₂:</label>
                        <input type="text" inputmode="decimal" id="sys3B2" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>c₂:</label>
                        <input type="text" inputmode="decimal" id="sys3C2" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>d₂:</label>
                        <input type="text" inputmode="decimal" id="sys3D2" value="11" class="coef-input">
                    </div>
                    
                    <h4 class="equation-section-title">Equation 3: a₃x + b₃y + c₃z = d₃</h4>
                    <div class="input-group">
                        <label>a₃:</label>
                        <input type="text" inputmode="decimal" id="sys3A3" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>b₃:</label>
                        <input type="text" inputmode="decimal" id="sys3B3" value="2" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>c₃:</label>
                        <input type="text" inputmode="decimal" id="sys3C3" value="1" class="coef-input">
                    </div>
                    <div class="input-group">
                        <label>d₃:</label>
                        <input type="text" inputmode="decimal" id="sys3D3" value="11" class="coef-input">
                    </div>
                    <p class="input-hint" data-translate="system3x3Hint">Enter coefficients for 3 variables</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="solveSystem3x3" data-translate="solve">Solve</button>
                    <button class="btn-export" id="exportSystem3x3Pdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="system3x3Solution"></div>
            </div>

            <!-- Matrix Calculator -->
            <div class="calculator-panel" id="matrix">
                <div class="equation-display">
                    <h3 data-translate="matrixTitle">Matrix Calculator</h3>
                </div>
                
                <div class="equation-builder">
                    <div class="matrix-controls">
                        <div class="control-group">
                            <label data-translate="matrixSize">Matrix size:</label>
                            <select id="matrixSize" class="matrix-select">
                                <option value="2">2×2</option>
                                <option value="3">3×3</option>
                            </select>
                        </div>
                        
                        <div class="control-group">
                            <label data-translate="operation">Operation:</label>
                            <select id="matrixOperation" class="matrix-select">
                                <option value="add" data-translate="addition">Addition</option>
                                <option value="multiply" data-translate="multiplication">Multiplication</option>
                                <option value="determinant" data-translate="determinantCalc">Determinant</option>
                                <option value="inverse" data-translate="inverse">Inverse</option>
                            </select>
                        </div>
                    </div>

                    <div class="matrix-input-container">
                        <div class="matrix-wrapper" id="matrixAWrapper">
                            <h4 data-translate="matrixA">Matrix A</h4>
                            <div class="matrix-grid" id="matrixAGrid">
                                <!-- Generated dynamically -->
                            </div>
                        </div>

                        <div class="matrix-wrapper" id="matrixBWrapper">
                            <h4 data-translate="matrixB">Matrix B</h4>
                            <div class="matrix-grid" id="matrixBGrid">
                                <!-- Generated dynamically -->
                            </div>
                        </div>
                    </div>
                    
                    <p class="input-hint" data-translate="matrixHint">Enter matrix values</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="calculateMatrix" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportMatrixPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="matrixSolution"></div>
            </div>

            <!-- Graph Visualization -->
            <div class="calculator-panel" id="graph">
                <div class="equation-display">
                    <h3 data-translate="graphTitle">Graph Visualization</h3>
                </div>
                
                <div class="equation-builder">
                    <div class="graph-controls">
                        <div class="control-group">
                            <label data-translate="selectEquation">Select equation:</label>
                            <select id="graphEquationType" class="matrix-select">
                                <option value="linear">Linear (ax + b)</option>
                                <option value="quadratic">Quadratic (ax² + bx + c)</option>
                                <option value="cubic">Cubic (ax³ + bx² + cx + d)</option>
                            </select>
                        </div>
                    </div>

                    <div class="graph-equation-inputs" id="graphInputs">
                        <!-- Generated dynamically based on equation type -->
                    </div>

                    <div class="graph-range-controls">
                        <div class="range-group">
                            <label data-translate="xRange">X Range:</label>
                            <div class="range-inputs">
                                <input type="text" inputmode="decimal" id="xMin" value="-10" class="range-input">
                                <span>to</span>
                                <input type="text" inputmode="decimal" id="xMax" value="10" class="range-input">
                            </div>
                        </div>
                        <div class="range-group">
                            <label data-translate="yRange">Y Range:</label>
                            <div class="range-inputs">
                                <input type="text" inputmode="decimal" id="yMin" value="-10" class="range-input">
                                <span>to</span>
                                <input type="text" inputmode="decimal" id="yMax" value="10" class="range-input">
                            </div>
                        </div>
                    </div>

                    <div class="graph-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="showGrid" checked>
                            <span data-translate="showGrid">Show grid</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="showAxes" checked>
                            <span data-translate="showAxes">Show axes</span>
                        </label>
                    </div>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="plotGraph" data-translate="plotGraph">Plot Graph</button>
                    <button class="btn-export" id="exportGraphPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="graph-container">
                    <canvas id="graphCanvas" width="800" height="600"></canvas>
                </div>

                <div class="graph-buttons">
                    <button class="graph-btn" id="resetView" data-translate="resetView">Reset View</button>
                    <button class="graph-btn" id="zoomIn" data-translate="zoomIn">Zoom In</button>
                    <button class="graph-btn" id="zoomOut" data-translate="zoomOut">Zoom Out</button>
                </div>
            </div>

            <!-- Parametric Equations -->
            <div class="calculator-panel" id="parametric">
                <div class="equation-display">
                    <h3 data-translate="parametricTitle">Parametric Equations</h3>
                    <div class="equation-preview-small" id="parametricPreview">
                        <div>x(t) = cos(t)</div>
                        <div>y(t) = sin(t)</div>
                    </div>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label>x(t) =</label>
                        <input type="text" id="parametricX" value="cos(t)" class="equation-text-input" placeholder="e.g., cos(t), t^2, 2*t">
                    </div>
                    <div class="input-group">
                        <label>y(t) =</label>
                        <input type="text" id="parametricY" value="sin(t)" class="equation-text-input" placeholder="e.g., sin(t), t, t^3">
                    </div>
                    
                    <div class="graph-range-controls">
                        <div class="range-group">
                            <label data-translate="tRange">t Range:</label>
                            <div class="range-inputs">
                                <input type="text" inputmode="decimal" id="tMin" value="0" class="range-input">
                                <span>to</span>
                                <input type="text" inputmode="decimal" id="tMax" value="6.28" class="range-input">
                            </div>
                        </div>
                    </div>
                    <p class="input-hint" data-translate="parametricHint">Use t as parameter. Supported: sin, cos, tan, sqrt, pow, exp, log</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="plotParametric" data-translate="plotGraph">Plot Graph</button>
                    <button class="btn-export" id="exportParametricPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="graph-container">
                    <canvas id="parametricCanvas" width="800" height="600"></canvas>
                </div>
            </div>

            <!-- Polar Equations -->
            <div class="calculator-panel" id="polar">
                <div class="equation-display">
                    <h3 data-translate="polarTitle">Polar Equations</h3>
                    <div class="equation-preview" id="polarPreview">r(theta) = 2 + cos(theta)</div>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label>r(theta) =</label>
                        <input type="text" id="polarR" value="2 + cos(theta)" class="equation-text-input" placeholder="e.g., 2+cos(theta), theta, sin(3*theta)">
                    </div>
                    
                    <div class="graph-range-controls">
                        <div class="range-group">
                            <label data-translate="thetaRange">Theta Range:</label>
                            <div class="range-inputs">
                                <input type="text" inputmode="decimal" id="thetaMin" value="0" class="range-input">
                                <span>to</span>
                                <input type="text" inputmode="decimal" id="thetaMax" value="6.28" class="range-input">
                            </div>
                        </div>
                    </div>
                    
                    <div class="polar-presets">
                        <label data-translate="presets">Presets:</label>
                        <div class="preset-buttons">
                            <button class="preset-btn" data-preset="circle">Circle</button>
                            <button class="preset-btn" data-preset="cardioid">Cardioid</button>
                            <button class="preset-btn" data-preset="rose3">Rose (3)</button>
                            <button class="preset-btn" data-preset="rose4">Rose (4)</button>
                            <button class="preset-btn" data-preset="spiral">Spiral</button>
                            <button class="preset-btn" data-preset="lemniscate">Lemniscate</button>
                        </div>
                    </div>
                    <p class="input-hint" data-translate="polarHint">Use theta as angle. Supported: sin, cos, tan, sqrt, pow, abs</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="plotPolar" data-translate="plotGraph">Plot Graph</button>
                    <button class="btn-export" id="exportPolarPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="graph-container">
                    <canvas id="polarCanvas" width="800" height="600"></canvas>
                </div>
            </div>

            <!-- LaTeX Input -->
            <div class="calculator-panel" id="latex">
                <div class="equation-display">
                    <h3 data-translate="latexTitle">LaTeX Equation Input</h3>
                    <div class="latex-preview-container" id="latexPreviewContainer">
                        <div class="latex-rendered" id="latexRendered"></div>
                    </div>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="enterLatex">Enter LaTeX equation:</label>
                        <textarea id="latexInput" class="latex-input" rows="3" placeholder="e.g., x^2 + 2x + 1 = 0 or \frac{-b \pm \sqrt{b^2-4ac}}{2a}">x^2 - 5x + 6 = 0</textarea>
                    </div>
                    
                    <div class="latex-shortcuts">
                        <label data-translate="shortcuts">Quick Insert:</label>
                        <div class="shortcut-buttons">
                            <button class="shortcut-btn" data-insert="^2">x^2</button>
                            <button class="shortcut-btn" data-insert="^3">x^3</button>
                            <button class="shortcut-btn" data-insert="\sqrt{}">sqrt</button>
                            <button class="shortcut-btn" data-insert="\frac{}{}">frac</button>
                            <button class="shortcut-btn" data-insert="\pm">pm</button>
                            <button class="shortcut-btn" data-insert="\pi">pi</button>
                            <button class="shortcut-btn" data-insert="\theta">theta</button>
                            <button class="shortcut-btn" data-insert="\infty">infinity</button>
                        </div>
                    </div>
                    
                    <div class="latex-examples">
                        <label data-translate="examples">Examples:</label>
                        <div class="example-list">
                            <button class="example-btn" data-example="2x + 5 = 0">Linear</button>
                            <button class="example-btn" data-example="x^2 - 5x + 6 = 0">Quadratic</button>
                            <button class="example-btn" data-example="x^3 - 6x^2 + 11x - 6 = 0">Cubic</button>
                            <button class="example-btn" data-example="x^4 - 5x^2 + 4 = 0">Quartic</button>
                        </div>
                    </div>
                    <p class="input-hint" data-translate="latexHint">Supports polynomial equations. Enter coefficients using LaTeX syntax.</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="solveLatex" data-translate="parseAndSolve">Parse and Solve</button>
                    <button class="btn-export" id="exportLatexPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="latexSolution"></div>
            </div>

            <!-- GCD/LCM Calculator -->
            <div class="calculator-panel" id="gcdlcm">
                <div class="equation-display">
                    <h3 data-translate="gcdlcmTitle">GCD and LCM Calculator</h3>
                    <p class="equation-preview" data-translate="gcdlcmDesc">Calculate the Greatest Common Divisor and Least Common Multiple of two or more numbers</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="enterNumbers">Enter numbers (comma separated):</label>
                        <input type="text" id="gcdlcmInput" class="equation-input" placeholder="e.g., 12, 18, 24">
                    </div>
                    <p class="input-hint" data-translate="gcdlcmHint">Enter at least 2 positive integers separated by commas</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="calculateGcdLcm" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportGcdLcmPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="gcdlcmSolution"></div>
            </div>

            <!-- Modular Arithmetic Calculator -->
            <div class="calculator-panel" id="modular">
                <div class="equation-display">
                    <h3 data-translate="modularTitle">Modular Arithmetic Calculator</h3>
                    <p class="equation-preview" data-translate="modularDesc">Modulo, modular inverse, modular exponentiation</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="selectModOperation">Select operation:</label>
                        <select id="modularOperation" class="equation-input">
                            <option value="modulo" data-translate="moduloOperation">Modulo (a mod n)</option>
                            <option value="inverse" data-translate="modInverseOperation">Modular Inverse (a⁻¹ mod n)</option>
                            <option value="power" data-translate="modPowerOperation">Modular Power (a^b mod n)</option>
                        </select>
                    </div>
                    <div class="coefficient-sliders">
                        <div class="slider-group">
                            <label data-translate="valueA">Value a:</label>
                            <input type="number" id="modValueA" class="equation-input" value="7">
                        </div>
                        <div class="slider-group" id="modValueBGroup">
                            <label data-translate="valueB">Value b (for power):</label>
                            <input type="number" id="modValueB" class="equation-input" value="3">
                        </div>
                        <div class="slider-group">
                            <label data-translate="modulus">Modulus n:</label>
                            <input type="number" id="modValueN" class="equation-input" value="11">
                        </div>
                    </div>
                    <p class="input-hint" data-translate="modularHint">Enter values for modular operations</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="calculateModular" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportModularPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="modularSolution"></div>
            </div>

            <!-- Combinatorics Calculator -->
            <div class="calculator-panel" id="combinatorics">
                <div class="equation-display">
                    <h3 data-translate="combinatoricsTitle">Combinatorics Calculator</h3>
                    <p class="equation-preview" data-translate="combinatoricsDesc">Permutations, combinations, binomial coefficients</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="selectCombOperation">Select operation:</label>
                        <select id="combinatoricsOperation" class="equation-input">
                            <option value="factorial" data-translate="factorial">Factorial n!</option>
                            <option value="permutation" data-translate="permutation">Permutation P(n,r)</option>
                            <option value="combination" data-translate="combination">Combination C(n,r)</option>
                        </select>
                    </div>
                    <div class="coefficient-sliders">
                        <div class="slider-group">
                            <label data-translate="valueN">Value n:</label>
                            <input type="number" id="combValueN" class="equation-input" value="5" min="0">
                        </div>
                        <div class="slider-group" id="combValueRGroup">
                            <label data-translate="valueR">Value r:</label>
                            <input type="number" id="combValueR" class="equation-input" value="3" min="0">
                        </div>
                    </div>
                    <p class="input-hint" data-translate="combinatoricsHint">Enter values for combinatorial calculations</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="calculateCombinatorics" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportCombinatoricsPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="combinatoricsSolution"></div>
            </div>

            <!-- Fraction Calculator -->
            <div class="calculator-panel" id="fractions">
                <div class="equation-display">
                    <h3 data-translate="fractionsTitle">Fraction Calculator</h3>
                    <p class="equation-preview" data-translate="fractionsDesc">Add, subtract, multiply, divide fractions with simplification</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="fractionOperation">Operation:</label>
                        <select id="fractionOperation" class="equation-input">
                            <option value="add" data-translate="addFractions">Add (+)</option>
                            <option value="subtract" data-translate="subtractFractions">Subtract (−)</option>
                            <option value="multiply" data-translate="multiplyFractions">Multiply (×)</option>
                            <option value="divide" data-translate="divideFractions">Divide (÷)</option>
                            <option value="simplify" data-translate="simplifyFraction">Simplify</option>
                        </select>
                    </div>
                    <div class="coefficient-sliders">
                        <div class="slider-group">
                            <label data-translate="fraction1">Fraction 1:</label>
                            <div class="fraction-input-group">
                                <input type="number" id="frac1Num" class="equation-input fraction-input" placeholder="Num" value="1">
                                <span class="fraction-divider">/</span>
                                <input type="number" id="frac1Den" class="equation-input fraction-input" placeholder="Den" value="2">
                            </div>
                        </div>
                        <div class="slider-group" id="fraction2Group">
                            <label data-translate="fraction2">Fraction 2:</label>
                            <div class="fraction-input-group">
                                <input type="number" id="frac2Num" class="equation-input fraction-input" placeholder="Num" value="1">
                                <span class="fraction-divider">/</span>
                                <input type="number" id="frac2Den" class="equation-input fraction-input" placeholder="Den" value="3">
                            </div>
                        </div>
                    </div>
                    <p class="input-hint" data-translate="fractionsHint">Enter fractions as numerator/denominator</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="calculateFractions" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportFractionsPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="fractionsSolution"></div>
            </div>

            <!-- Percentage Calculator -->
            <div class="calculator-panel" id="percentage">
                <div class="equation-display">
                    <h3 data-translate="percentageTitle">Percentage Calculator</h3>
                    <p class="equation-preview" data-translate="percentageDesc">Calculate percentage increase, decrease, and difference</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="selectPercentOperation">Select operation:</label>
                        <select id="percentageOperation" class="equation-input">
                            <option value="percentOf" data-translate="percentOf">What is X% of Y?</option>
                            <option value="percentChange" data-translate="percentChange">Percentage change from X to Y</option>
                            <option value="percentIncrease" data-translate="percentIncrease">Increase X by Y%</option>
                            <option value="percentDecrease" data-translate="percentDecrease">Decrease X by Y%</option>
                        </select>
                    </div>
                    <div class="coefficient-sliders">
                        <div class="slider-group">
                            <label data-translate="valueX">Value X:</label>
                            <input type="number" id="percentValueX" class="equation-input" value="25">
                        </div>
                        <div class="slider-group">
                            <label data-translate="valueY">Value Y:</label>
                            <input type="number" id="percentValueY" class="equation-input" value="200">
                        </div>
                    </div>
                    <p class="input-hint" data-translate="percentageHint">Select an operation and enter values</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="calculatePercentage" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportPercentagePdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="percentageSolution"></div>
            </div>

            <!-- Ratio and Proportion Calculator -->
            <div class="calculator-panel" id="ratio">
                <div class="equation-display">
                    <h3 data-translate="ratioTitle">Ratio and Proportion Solver</h3>
                    <p class="equation-preview" data-translate="ratioDesc">Solve proportions, find missing values, simplify ratios</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="selectRatioOperation">Select operation:</label>
                        <select id="ratioOperation" class="equation-input">
                            <option value="simplify" data-translate="simplifyRatio">Simplify Ratio</option>
                            <option value="proportion" data-translate="solveProportion">Solve Proportion (a:b = c:x)</option>
                        </select>
                    </div>
                    <div class="coefficient-sliders">
                        <div class="slider-group">
                            <label data-translate="ratioA">a:</label>
                            <input type="number" id="ratioValueA" class="equation-input" value="12">
                        </div>
                        <div class="slider-group">
                            <label data-translate="ratioB">b:</label>
                            <input type="number" id="ratioValueB" class="equation-input" value="18">
                        </div>
                        <div class="slider-group" id="ratioCGroup">
                            <label data-translate="ratioC">c:</label>
                            <input type="number" id="ratioValueC" class="equation-input" value="6">
                        </div>
                    </div>
                    <p class="input-hint" data-translate="ratioHint">Enter values for ratio calculations</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="calculateRatio" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportRatioPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="ratioSolution"></div>
            </div>

            <!-- Base Converter -->
            <div class="calculator-panel" id="baseConverter">
                <div class="equation-display">
                    <h3 data-translate="baseConverterTitle">Number Base Converter</h3>
                    <p class="equation-preview" data-translate="baseConverterDesc">Convert between binary, octal, decimal, hexadecimal</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="inputNumber">Input number:</label>
                        <input type="text" id="baseInput" class="equation-input" value="255">
                    </div>
                    <div class="input-group">
                        <label data-translate="fromBase">From base:</label>
                        <select id="fromBase" class="equation-input">
                            <option value="2" data-translate="binary">Binary (2)</option>
                            <option value="8" data-translate="octal">Octal (8)</option>
                            <option value="10" selected data-translate="decimal">Decimal (10)</option>
                            <option value="16" data-translate="hexadecimal">Hexadecimal (16)</option>
                        </select>
                    </div>
                    <p class="input-hint" data-translate="baseConverterHint">Enter a number and select the source base</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="convertBase" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportBaseConverterPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="baseConverterSolution"></div>
            </div>

            <!-- Unit Converter -->
            <div class="calculator-panel" id="unitConverter">
                <div class="equation-display">
                    <h3 data-translate="unitConverterTitle">Unit Converter</h3>
                    <p class="equation-preview" data-translate="unitConverterDesc">Convert between units of length, mass, temperature, time, area, volume</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="selectCategory">Category:</label>
                        <select id="unitCategory" class="equation-input">
                            <option value="length" data-translate="length">Length</option>
                            <option value="mass" data-translate="mass">Mass</option>
                            <option value="temperature" data-translate="temperature">Temperature</option>
                            <option value="time" data-translate="time">Time</option>
                            <option value="area" data-translate="area">Area</option>
                            <option value="volume" data-translate="volume">Volume</option>
                        </select>
                    </div>
                    <div class="coefficient-sliders">
                        <div class="slider-group">
                            <label data-translate="inputValue">Value:</label>
                            <input type="number" id="unitValue" class="equation-input" value="100">
                        </div>
                        <div class="slider-group">
                            <label data-translate="fromUnit">From:</label>
                            <select id="fromUnit" class="equation-input">
                                <!-- Populated dynamically -->
                            </select>
                        </div>
                        <div class="slider-group">
                            <label data-translate="toUnit">To:</label>
                            <select id="toUnit" class="equation-input">
                                <!-- Populated dynamically -->
                            </select>
                        </div>
                    </div>
                    <p class="input-hint" data-translate="unitConverterHint">Select category and units</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="convertUnit" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportUnitConverterPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="unitConverterSolution"></div>
            </div>

            <!-- Statistics Calculator -->
            <div class="calculator-panel" id="statisticsCalc">
                <div class="equation-display">
                    <h3 data-translate="statisticsCalcTitle">Statistics Calculator</h3>
                    <p class="equation-preview" data-translate="statisticsCalcDesc">Mean, median, mode, variance, standard deviation</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="enterDataSet">Enter data set:</label>
                        <input type="text" id="statsInput" class="equation-input" placeholder="e.g., 1, 2, 3, 4, 5">
                    </div>
                    <p class="input-hint" data-translate="statisticsHint">Enter numbers separated by commas</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="calculateStatistics" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportStatisticsPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="statisticsSolution"></div>
            </div>

            <!-- Sequence Calculator -->
            <div class="calculator-panel" id="sequences">
                <div class="equation-display">
                    <h3 data-translate="sequencesTitle">Sequence Calculator</h3>
                    <p class="equation-preview" data-translate="sequencesDesc">Arithmetic, geometric, and Fibonacci sequences</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="selectSeqType">Sequence type:</label>
                        <select id="sequenceType" class="equation-input">
                            <option value="arithmetic" data-translate="arithmeticSeq">Arithmetic Sequence</option>
                            <option value="geometric" data-translate="geometricSeq">Geometric Sequence</option>
                            <option value="fibonacci" data-translate="fibonacciSeq">Fibonacci Sequence</option>
                        </select>
                    </div>
                    <div class="coefficient-sliders">
                        <div class="slider-group" id="seqFirstTermGroup">
                            <label data-translate="firstTerm">First term (a₁):</label>
                            <input type="number" id="seqFirstTerm" class="equation-input" value="1">
                        </div>
                        <div class="slider-group" id="seqDiffGroup">
                            <label data-translate="commonDiff">Common difference (d):</label>
                            <input type="number" id="seqDiff" class="equation-input" value="2">
                        </div>
                        <div class="slider-group" id="seqRatioGroup" style="display:none;">
                            <label data-translate="commonRatio">Common ratio (r):</label>
                            <input type="number" id="seqRatio" class="equation-input" value="2">
                        </div>
                        <div class="slider-group">
                            <label data-translate="numTerms">Number of terms (n):</label>
                            <input type="number" id="seqNumTerms" class="equation-input" value="10" min="1">
                        </div>
                    </div>
                    <p class="input-hint" data-translate="sequencesHint">Configure sequence parameters</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="calculateSequence" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportSequencesPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="sequencesSolution"></div>
            </div>

            <!-- Limit Calculator -->
            <div class="calculator-panel" id="limits">
                <div class="equation-display">
                    <h3 data-translate="limitsTitle">Limit Calculator</h3>
                    <p class="equation-preview" data-translate="limitsDesc">Calculate limits of simple functions</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="enterFunction">Function f(x):</label>
                        <input type="text" id="limitFunction" class="equation-input" placeholder="e.g., (x^2-1)/(x-1)">
                    </div>
                    <div class="coefficient-sliders">
                        <div class="slider-group">
                            <label data-translate="limitPoint">x approaches:</label>
                            <input type="text" id="limitPoint" class="equation-input" value="1" placeholder="e.g., 0, infinity">
                        </div>
                        <div class="slider-group">
                            <label data-translate="limitDirection">Direction:</label>
                            <select id="limitDirection" class="equation-input">
                                <option value="both" data-translate="bothSides">Both sides</option>
                                <option value="left" data-translate="fromLeft">From left (x⁻)</option>
                                <option value="right" data-translate="fromRight">From right (x⁺)</option>
                            </select>
                        </div>
                    </div>
                    <p class="input-hint" data-translate="limitExamples">Examples: x^2, sin(x)/x, 1/x, sqrt(x)</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="calculateLimit" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportLimitsPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="limitsSolution"></div>
            </div>

            <!-- Taylor Series Calculator -->
            <div class="calculator-panel" id="taylor">
                <div class="equation-display">
                    <h3 data-translate="taylorTitle">Taylor Series Calculator</h3>
                    <p class="equation-preview" data-translate="taylorDesc">Taylor and Maclaurin series expansions</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="selectFunction">Function:</label>
                        <select id="taylorFunction" class="equation-input">
                            <option value="sin" data-translate="sinFunction">sin(x)</option>
                            <option value="cos" data-translate="cosFunction">cos(x)</option>
                            <option value="exp" data-translate="expFunction">e^x</option>
                            <option value="ln" data-translate="lnFunction">ln(1+x)</option>
                            <option value="atan" data-translate="atanFunction">arctan(x)</option>
                        </select>
                    </div>
                    <div class="coefficient-sliders">
                        <div class="slider-group">
                            <label data-translate="expansionPoint">Expansion point (a):</label>
                            <input type="number" id="taylorPoint" class="equation-input" value="0">
                        </div>
                        <div class="slider-group">
                            <label data-translate="numSeriesTerms">Number of terms:</label>
                            <input type="number" id="taylorTerms" class="equation-input" value="5" min="1" max="15">
                        </div>
                    </div>
                    <p class="input-hint" data-translate="taylorHint">Select function and number of terms</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="calculateTaylor" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportTaylorPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="taylorSolution"></div>
            </div>

            <!-- Numerical Integration Calculator -->
            <div class="calculator-panel" id="integration">
                <div class="equation-display">
                    <h3 data-translate="integrationTitle">Numerical Integration</h3>
                    <p class="equation-preview" data-translate="integrationDesc">Trapezoidal and Simpson's rule integration</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="functionToIntegrate">Function f(x):</label>
                        <input type="text" id="integrationFunction" class="equation-input" placeholder="e.g., x^2, sin(x)">
                    </div>
                    <div class="coefficient-sliders">
                        <div class="slider-group">
                            <label data-translate="lowerBound">Lower bound (a):</label>
                            <input type="number" id="integrationLower" class="equation-input" value="0">
                        </div>
                        <div class="slider-group">
                            <label data-translate="upperBound">Upper bound (b):</label>
                            <input type="number" id="integrationUpper" class="equation-input" value="1">
                        </div>
                        <div class="slider-group">
                            <label data-translate="numIntervals">Number of intervals (n):</label>
                            <input type="number" id="integrationIntervals" class="equation-input" value="100" min="2">
                        </div>
                        <div class="slider-group">
                            <label data-translate="integrationMethod">Method:</label>
                            <select id="integrationMethod" class="equation-input">
                                <option value="trapezoidal" data-translate="trapezoidalRule">Trapezoidal Rule</option>
                                <option value="simpsons" data-translate="simpsonsRule">Simpson's Rule</option>
                            </select>
                        </div>
                    </div>
                    <p class="input-hint" data-translate="integrationHint">Enter function and integration bounds</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="calculateIntegration" data-translate="calculate">Calculate</button>
                    <button class="btn-export" id="exportIntegrationPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="integrationSolution"></div>
            </div>

            <!-- Polynomial Long Division Calculator -->
            <div class="calculator-panel" id="polynomialDivision">
                <div class="equation-display">
                    <h3 data-translate="polynomialDivisionTitle">Polynomial Long Division</h3>
                    <p class="input-hint" data-translate="polynomialDivisionHint">Enter polynomials (e.g., 2x^3 + 3x^2 - x + 5)</p>
                </div>
                
                <div class="equation-builder">
                    <div class="input-group">
                        <label data-translate="dividend">Dividend P(x):</label>
                        <input type="text" id="polyDividend" class="coef-input" value="x^3 - 2x^2 + x - 2" placeholder="2x^3 + 3x^2 - x + 5">
                    </div>
                    <div class="input-group">
                        <label data-translate="divisor">Divisor D(x):</label>
                        <input type="text" id="polyDivisor" class="coef-input" value="x - 2" placeholder="x + 1">
                    </div>
                    <p class="input-hint" data-translate="polynomialDivisionExample">Example formats: x^2 + 3x - 5, 2x^3 - x + 1, x - 3</p>
                </div>
                
                <div class="button-group">
                    <button class="btn-solve" id="dividePolynomials" data-translate="divide">Divide</button>
                    <button class="btn-export" id="exportPolynomialDivisionPdf" data-translate="exportPdf" style="display:none">Export PDF</button>
                </div>
                
                <div class="solution-container" id="polynomialDivisionSolution"></div>
            </div>
        </div>

        <!-- History Panel -->
        <div class="history-panel">
            <div class="history-header">
                <h3 data-translate="historyTitle">History</h3>
                <button class="clear-history" id="clearHistory" data-translate="clearHistory">Clear</button>
            </div>
            <div class="history-list" id="historyList"></div>
        </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
    <script src="js/flags.js" defer></script>
    <!-- Language files loaded separately for better maintainability -->
    <script src="js/i18n/en.js" defer></script>
    <script src="js/i18n/fr.js" defer></script>
    <script src="js/i18n/es.js" defer></script>
    <script src="js/i18n/de.js" defer></script>
    <script src="js/i18n/it.js" defer></script>
    <script src="js/i18n/ru.js" defer></script>
    <script src="js/translations.js" defer></script>
    <script src="js/script.js" defer></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('Service Worker registered'))
                    .catch(err => console.log('Service Worker registration failed:', err));
            });
        }
    </script>
</body>
</html>
